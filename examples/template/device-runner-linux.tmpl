// Autogenerated from device-runner-linux.tmpl

package main

import (
	"github.com/merliot/hub"
	"github.com/merliot/hub/models"
)

func main() {
	hub.Setenv("PORT", "{{.port}}")
	hub.Setenv("USER", "{{.user}}")
	hub.Setenv("PASSWD", "{{.passwd}}")
	hub.Setenv("DIAL_URLS", "{{.dialurls}}")

	hub.Setenv("DEVICES", `{
	"{{id}}": {
		"Id": "{{id}}",
		"Model": "{{model}}",
		"Name": "{{name}}",
		"Children": [],
		"DeployParams": "{{deployParams}}"
	}
}`)
{{ if isProgenitive }}
	hub.Models = models.AllModels
{{- else }}
	hub.Models = hub.ModelMap{
		"{{model}}": models.{{title model}},
	}
{{- end }}

	hub.Run()
}
