// Autogenerated from device-runner-linux.tmpl

package main

import (
	"github.com/merliot/hub/pkg/device"
	"github.com/merliot/hub/pkg/models"
)

func main() {
	device.Setenv("PORT", "{{.port}}")
	device.Setenv("USER", "{{.user}}")
	device.Setenv("PASSWD", "{{.passwd}}")
	device.Setenv("DIAL_URLS", "{{.dialurls}}")

	device.Setenv("DEVICES", `{
	"{{id}}": {
		"Id": "{{id}}",
		"Model": "{{model}}",
		"Name": "{{name}}",
		"Children": [],
		"DeployParams": "{{deployParams}}"
	}
}`)
{{ if isProgenitive }}
	device.Models = models.AllModels
{{- else }}
	device.Models = device.ModelMap{
		"{{model}}": models.{{title model}},
	}
{{- end }}

	device.Run()
}
