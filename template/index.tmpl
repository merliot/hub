<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>{{.Name}}</title>
		<link rel="stylesheet" type="text/css" href="css/common.css">
		<link rel="stylesheet" type="text/css" href="css/hub.css">
{{- range $model, $ignore := .ModelsInUse }}
		<link rel="stylesheet" type="text/css" href="model/{{$model}}/css/{{$model}}.css">
{{- end }}
	</head>
	<body class="online">

{{template "hub-header.tmpl" .}}
{{template "hub-body.tmpl" .}}
{{template "hub-dialogs.tmpl" .}}

		<script src="js/device.js"></script>
		<script src="js/hubx.js"></script>
{{- range $model, $ignore := .ModelsInUse }}
		<script src="model/{{$model}}/js/{{$model}}x.js"></script>
{{- end }}

		<script>
			let div, device
			let trunk = new Trunk({{ .WebSocket }})
			trunk.registerDevice("", new DeviceHub(document.body))
{{- range $id, $child := .Children }}
			div = document.getElementById("device-{{$id}}")
			device = new Device{{.ModelTitle}}(div)
			trunk.registerDevice("{{$id}}", device)
{{- end }}
		</script>

	</body>
</html>
